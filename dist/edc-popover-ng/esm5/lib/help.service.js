import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { EdcClient } from 'edc-client-js';
import { PopoverConfigurationHandler } from './config/popover-configuration-handler';
import { SYS_LANG } from './translate/language-codes';
var HelpService = /** @class */ (function () {
    function HelpService(configurationHandler) {
        this.configurationHandler = configurationHandler;
        this.edcClient = new EdcClient(configurationHandler.getDocPath(), configurationHandler.getHelpPath(), configurationHandler.getPluginId(), true, // Context only, don't load the whole doc
        configurationHandler.getI18nPath());
    }
    HelpService.prototype.getHelp = function (primaryKey, subKey, pluginId) {
        return this.edcClient.getHelper(primaryKey, subKey, pluginId || this.configurationHandler.getPluginId());
    };
    HelpService.prototype.getContextUrl = function (mainKey, subKey, languageCode, articleIndex, pluginId) {
        return this.edcClient.getContextWebHelpUrl(mainKey, subKey, languageCode, articleIndex, pluginId);
    };
    HelpService.prototype.getDocumentationUrl = function (docId) {
        return this.edcClient.getDocumentationWebHelpUrl(docId);
    };
    HelpService.prototype.getI18nUrl = function () {
        return this.edcClient.getI18nUrl();
    };
    HelpService.prototype.getPluginId = function () {
        return this.configurationHandler.getPluginId();
    };
    HelpService.prototype.getIcon = function () {
        return this.configurationHandler.getIcon() || 'fa-question-circle-o';
    };
    HelpService.prototype.getContainer = function () {
        return this.configurationHandler.isAppendToBody() ? 'body' : '';
    };
    HelpService.prototype.getDefaultLanguage = function () {
        return (this.edcClient && this.edcClient.getDefaultLanguage && this.edcClient.getDefaultLanguage()) || SYS_LANG;
    };
    HelpService.prototype.setCurrentLanguage = function (languageCode) {
        this.edcClient.setCurrentLanguage(languageCode);
    };
    HelpService = tslib_1.__decorate([
        Injectable(),
        tslib_1.__metadata("design:paramtypes", [PopoverConfigurationHandler])
    ], HelpService);
    return HelpService;
}());
export { HelpService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vZWRjLXBvcG92ZXItbmcvIiwic291cmNlcyI6WyJsaWIvaGVscC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFDckYsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBR3REO0lBSUUscUJBQW9CLG9CQUFpRDtRQUFqRCx5QkFBb0IsR0FBcEIsb0JBQW9CLENBQTZCO1FBQ25FLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxTQUFTLENBQUMsb0JBQW9CLENBQUMsVUFBVSxFQUFFLEVBQzlELG9CQUFvQixDQUFDLFdBQVcsRUFBRSxFQUNsQyxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsRUFDbEMsSUFBSSxFQUFFLHlDQUF5QztRQUMvQyxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsQ0FDbkMsQ0FBQztJQUNKLENBQUM7SUFFRCw2QkFBTyxHQUFQLFVBQVEsVUFBa0IsRUFBRSxNQUFjLEVBQUUsUUFBaUI7UUFDM0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsTUFBTSxFQUFFLFFBQVEsSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztJQUMzRyxDQUFDO0lBRUQsbUNBQWEsR0FBYixVQUFjLE9BQWUsRUFBRSxNQUFjLEVBQUUsWUFBb0IsRUFBRSxZQUFvQixFQUFFLFFBQWlCO1FBQzFHLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUVELHlDQUFtQixHQUFuQixVQUFvQixLQUFhO1FBQy9CLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQywwQkFBMEIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRUQsZ0NBQVUsR0FBVjtRQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsaUNBQVcsR0FBWDtRQUNFLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2pELENBQUM7SUFFRCw2QkFBTyxHQUFQO1FBQ0UsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLElBQUksc0JBQXNCLENBQUM7SUFDdkUsQ0FBQztJQUVELGtDQUFZLEdBQVo7UUFDRSxPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDbEUsQ0FBQztJQUVELHdDQUFrQixHQUFsQjtRQUNFLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLElBQUksUUFBUSxDQUFDO0lBQ2xILENBQUM7SUFFRCx3Q0FBa0IsR0FBbEIsVUFBbUIsWUFBb0I7UUFDckMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBL0NVLFdBQVc7UUFEdkIsVUFBVSxFQUFFO2lEQUsrQiwyQkFBMkI7T0FKMUQsV0FBVyxDQWdEdkI7SUFBRCxrQkFBQztDQUFBLEFBaERELElBZ0RDO1NBaERZLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBFZGNDbGllbnQsIEhlbHBlciB9IGZyb20gJ2VkYy1jbGllbnQtanMnO1xuaW1wb3J0IHsgUG9wb3ZlckNvbmZpZ3VyYXRpb25IYW5kbGVyIH0gZnJvbSAnLi9jb25maWcvcG9wb3Zlci1jb25maWd1cmF0aW9uLWhhbmRsZXInO1xuaW1wb3J0IHsgU1lTX0xBTkcgfSBmcm9tICcuL3RyYW5zbGF0ZS9sYW5ndWFnZS1jb2Rlcyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBIZWxwU2VydmljZSB7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBlZGNDbGllbnQ6IEVkY0NsaWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZ3VyYXRpb25IYW5kbGVyOiBQb3BvdmVyQ29uZmlndXJhdGlvbkhhbmRsZXIpIHtcbiAgICB0aGlzLmVkY0NsaWVudCA9IG5ldyBFZGNDbGllbnQoY29uZmlndXJhdGlvbkhhbmRsZXIuZ2V0RG9jUGF0aCgpLFxuICAgICAgY29uZmlndXJhdGlvbkhhbmRsZXIuZ2V0SGVscFBhdGgoKSxcbiAgICAgIGNvbmZpZ3VyYXRpb25IYW5kbGVyLmdldFBsdWdpbklkKCksXG4gICAgICB0cnVlLCAvLyBDb250ZXh0IG9ubHksIGRvbid0IGxvYWQgdGhlIHdob2xlIGRvY1xuICAgICAgY29uZmlndXJhdGlvbkhhbmRsZXIuZ2V0STE4blBhdGgoKVxuICAgICk7XG4gIH1cblxuICBnZXRIZWxwKHByaW1hcnlLZXk6IHN0cmluZywgc3ViS2V5OiBzdHJpbmcsIHBsdWdpbklkPzogc3RyaW5nKTogUHJvbWlzZTxIZWxwZXI+IHtcbiAgICByZXR1cm4gdGhpcy5lZGNDbGllbnQuZ2V0SGVscGVyKHByaW1hcnlLZXksIHN1YktleSwgcGx1Z2luSWQgfHwgdGhpcy5jb25maWd1cmF0aW9uSGFuZGxlci5nZXRQbHVnaW5JZCgpKTtcbiAgfVxuXG4gIGdldENvbnRleHRVcmwobWFpbktleTogc3RyaW5nLCBzdWJLZXk6IHN0cmluZywgbGFuZ3VhZ2VDb2RlOiBzdHJpbmcsIGFydGljbGVJbmRleDogbnVtYmVyLCBwbHVnaW5JZD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZWRjQ2xpZW50LmdldENvbnRleHRXZWJIZWxwVXJsKG1haW5LZXksIHN1YktleSwgbGFuZ3VhZ2VDb2RlLCBhcnRpY2xlSW5kZXgsIHBsdWdpbklkKTtcbiAgfVxuXG4gIGdldERvY3VtZW50YXRpb25VcmwoZG9jSWQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZWRjQ2xpZW50LmdldERvY3VtZW50YXRpb25XZWJIZWxwVXJsKGRvY0lkKTtcbiAgfVxuXG4gIGdldEkxOG5VcmwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5lZGNDbGllbnQuZ2V0STE4blVybCgpO1xuICB9XG5cbiAgZ2V0UGx1Z2luSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uSGFuZGxlci5nZXRQbHVnaW5JZCgpO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25IYW5kbGVyLmdldEljb24oKSB8fCAnZmEtcXVlc3Rpb24tY2lyY2xlLW8nO1xuICB9XG5cbiAgZ2V0Q29udGFpbmVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbkhhbmRsZXIuaXNBcHBlbmRUb0JvZHkoKSA/ICdib2R5JyA6ICcnO1xuICB9XG5cbiAgZ2V0RGVmYXVsdExhbmd1YWdlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICh0aGlzLmVkY0NsaWVudCAmJiB0aGlzLmVkY0NsaWVudC5nZXREZWZhdWx0TGFuZ3VhZ2UgJiYgdGhpcy5lZGNDbGllbnQuZ2V0RGVmYXVsdExhbmd1YWdlKCkpIHx8IFNZU19MQU5HO1xuICB9XG5cbiAgc2V0Q3VycmVudExhbmd1YWdlKGxhbmd1YWdlQ29kZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5lZGNDbGllbnQuc2V0Q3VycmVudExhbmd1YWdlKGxhbmd1YWdlQ29kZSk7XG4gIH1cbn1cbiJdfQ==