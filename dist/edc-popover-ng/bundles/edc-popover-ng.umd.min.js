!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("edc-client-js"),require("@angular/common"),require("ngx-bootstrap/popover")):"function"==typeof define&&define.amd?define("edc-popover-ng",["exports","@angular/core","edc-client-js","@angular/common","ngx-bootstrap/popover"],o):o(e["edc-popover-ng"]={},e.ng.core,e.edcClientJs,e.ng.common,e.popover)}(this,function(e,n,o,t,r){"use strict";var i=function p(){},l=function(){function e(e){this.configurationHandler=e,this.helpPath=e.getHelpPath(),this.edcClient=new o.EdcClient(e.getDocPath(),"",e.getPluginId(),!0)}return e.prototype.getHelp=function(e,o,n){return this.edcClient.getHelper(e,o,n||this.configurationHandler.getPluginId())},e.prototype.getHelpPath=function(){return this.helpPath},e.prototype.getPluginId=function(){return this.configurationHandler.getPluginId()},e.prototype.getIcon=function(){return this.configurationHandler.getIcon()||"fa-question-circle-o"},e.prototype.getContainer=function(){return this.configurationHandler.isAppendToBody()?"body":""},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:i}]},e}(),c=function(){function e(){}return e.MESSAGE_COMING_SOON="Contextual help is coming soon.",e}(),a=function(){function e(e){this.helpService=e,this.comingSoon=c.MESSAGE_COMING_SOON,this.placement="bottom"}return e.prototype.ngOnInit=function(){var o=this;this.key&&this.subKey&&setTimeout(function(){o.helpService.getHelp(o.key,o.subKey,o.pluginId).then(function(e){return o.helper=e},function(e){return console.warn("Contextual Help not found : ",e)})},2e3),this.iconCss=this.helpService.getIcon(),this.container=this.helpService.getContainer()},e.prototype.goToArticle=function(e){var o=this.helpService.getHelpPath(),n=this.pluginId||this.helpService.getPluginId(),t=o+"/context/";n?t+=n+"/":console.warn("Please check if plugin Id was correctly set in the edc-popover-ng configuration handler"),t+=this.key+"/"+this.subKey+"/en/"+e,this.open(t)},e.prototype.goToLink=function(e){var o=this.helpService.getHelpPath()+"/doc/"+e.id;this.open(o)},e.prototype.getPlacement=function(){return this.placement},e.prototype.cancelClick=function(e){e.preventDefault()},e.prototype.open=function(e){window.open(e,"help","scrollbars=1,resizable=1,height=800,width=1200")},e.decorators=[{type:n.Component,args:[{selector:"edc-help",template:'\n    \x3c!-- Popover template --\x3e\n    <ng-template #popTemplate>\n      <div class="edc-popover-container" (click)="$event.stopPropagation()">\n        <article class="popover-article">{{ helper?.description }}</article>\n        <div class="see-also">\n          <div *ngIf="helper?.articles.length">\n            <h6><strong><span>Need more...</span></strong></h6>\n            <ul class="list-unstyled see-also-list">\n              <li *ngFor="let article of helper.articles; let key = index" class="see-also-item"\n                  (click)="goToArticle(key)">\n                <div class="article-link">-{{article.label}}</div>\n              </li>\n            </ul>\n          </div>\n          <div *ngIf="helper?.links.length">\n            <h6><strong><span>Related Topics</span></strong></h6>\n            <ul class="list-unstyled see-also-list">\n              <li *ngFor="let link of helper.links" class="see-also-item" (click)="goToLink(link)">\n                <div class="article-link">-{{link.label}}</div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n\n\n    \x3c!-- app-help template --\x3e\n    <i class="fa help-icon {{ iconCss }}"\n    [popover]="helper ? popTemplate : comingSoon"\n    [popoverTitle]="helper?.label"\n    [placement]="getPlacement()"\n    [ngClass]="{\'on-dark\': dark }"\n    [container]="container"\n    [outsideClick]="true"\n    (click)="cancelClick($event)">\n    </i>\n  ',styles:[":host{cursor:pointer;line-height:34px;font-size:16px;padding-right:5px}:host .help-icon{color:#d3d3d3}:host .help-icon:hover{color:#3c8dbc}:host .help-icon.on-dark{color:rgba(0,0,0,.3)}:host .help-icon.on-dark:hover{color:#fff}/deep/ popover-container.popover{border-color:#3c8dbc}/deep/ popover-container.popover.top>div.arrow::before{border-top-color:#3c8dbc}/deep/ popover-container.popover.bottom>div.arrow::before{border-bottom-color:#3c8dbc}/deep/ popover-container.popover.left>div.arrow::before{border-left-color:#3c8dbc}/deep/ popover-container.popover.right>div.arrow::before{border-right-color:#3c8dbc}.edc-popover-container{min-width:150px;line-height:20px;display:flex;flex-direction:column;flex-grow:1}.edc-popover-container .popover-article{font-size:14px;padding-bottom:10px}.edc-popover-container .see-also-item{font-size:15px;padding-left:20px}.edc-popover-container .see-also-item .article-link{cursor:pointer;color:#0275d8;text-decoration:underline}"]}]}],e.ctorParameters=function(){return[{type:l}]},e.propDecorators={pluginId:[{type:n.Input}],key:[{type:n.Input}],subKey:[{type:n.Input}],placement:[{type:n.Input}],dark:[{type:n.Input}]},e}(),s=function(){function o(){}return o.forRoot=function(e){return{ngModule:o,providers:[l,e.configLoader]}},o.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,r.PopoverModule.forRoot()],declarations:[a],providers:[l],exports:[a],entryComponents:[a]}]}],o}();e.HelpComponent=a,e.HelpModule=s,e.HelpService=l,e.PopoverConfigurationHandler=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=edc-popover-ng.umd.min.js.map