!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("edc-client-js"),require("@angular/common"),require("edc-popover-js/dist/edc-popover.css")):"function"==typeof define&&define.amd?define("edc-popover-ng",["exports","@angular/core","edc-client-js","@angular/common","edc-popover-js/dist/edc-popover.css"],t):t((e=e||self)["edc-popover-ng"]={},e.ng.core,e.edcClientJs,e.ng.common)}(this,(function(e,t,o,n){"use strict";var r=function(){},i=function(){function e(e){this.configurationHandler=e,this.edcClient=new o.EdcClient(e.getDocPath(),e.getHelpPath(),e.getPluginId(),!0,e.getI18nPath())}return e.prototype.getHelp=function(e,t,o,n){var r=o||this.configurationHandler.getPluginId();return this.edcClient.getHelper(e,t,r,n)},e.prototype.getContextUrl=function(e,t,o,n,r){return this.edcClient.getContextWebHelpUrl(e,t,o,n,r)},e.prototype.getDocumentationUrl=function(e){return this.edcClient.getDocumentationWebHelpUrl(e)},e.prototype.getI18nUrl=function(){return this.edcClient.getPopoverI18nUrl()},e.prototype.getPluginId=function(){return this.configurationHandler.getPluginId()},e.prototype.getIcon=function(){return this.configurationHandler.getIcon()||"fa-question-circle-o"},e.prototype.getContainer=function(){return this.configurationHandler.isAppendToBody()?"body":""},e.prototype.getDefaultLanguage=function(){return this.edcClient&&this.edcClient.getDefaultLanguage&&this.edcClient.getDefaultLanguage()||"en"},e.prototype.isLanguagePresent=function(e){return this.edcClient.isLanguagePresent(e)},e}();i.decorators=[{type:t.Injectable}],i.ctorParameters=function(){return[{type:r}]};var p=function(){};p.MESSAGE_COMING_SOON="Contextual help is coming soon.";var c=function(){function e(e){this.helpService=e,this.defaultLanguage="en",this.lang="en"}return e.prototype.getLang=function(){return this.lang},e.prototype.setLang=function(e){this.lang=e},e}();c.decorators=[{type:t.Injectable}],c.ctorParameters=function(){return[{type:i}]};var l=function(){function e(e,t){this.helpService=e,this.translationService=t,this.comingSoon=p.MESSAGE_COMING_SOON,this.placement="bottom"}return e.prototype.ngOnInit=function(){void 0===this.langLoading&&this.initHelper(),this.translationService.setLang("en"),this.iconCss=this.helpService.getIcon(),this.container=this.helpService.getContainer()},e.prototype.ngOnChanges=function(e){e.lang&&e.lang.currentValue!==this.langLoading&&this.initHelper()},e.prototype.initHelper=function(){this.key&&this.subKey&&(this.langLoading=this.lang||null,this.helper?this.loadHelper():setTimeout(this.loadHelper.bind(this),2e3))},e.prototype.loadHelper=function(){var e=this;this.helpService.getHelp(this.key,this.subKey,this.pluginId,this.lang).then((function(t){if(!t)throw new Error("Could not load Helper for the key "+e.key+" and subKey "+e.subKey);e.helper=t;var o=t.language;o!==e.lang&&(console.warn("Requested language "+e.lang+" could not be loaded,\n           content will be using default language "+t.language+" instead"),e.lang=o),e.translationService.setLang(e.lang),e.langLoading=null})).catch((function(t){console.error(t),e.langLoading=null}))},e.prototype.goToArticle=function(e){var t=this.helpService.getContextUrl(this.key,this.subKey,this.lang,e);this.open(t)},e.prototype.goToLink=function(e){var t=this.helpService.getDocumentationUrl(e.id);this.open(t)},e.prototype.getPlacement=function(){return this.placement},e.prototype.cancelClick=function(e){e.preventDefault()},e.prototype.open=function(e){window.open(e,"help","scrollbars=1,resizable=1,height=800,width=1200")},e}();l.decorators=[{type:t.Component,args:[{selector:"edc-help",template:'<i class="fa help-icon {{ iconCss }}"></i>',styles:[":host{cursor:pointer;font-size:16px;line-height:34px;padding-right:5px}:host .help-icon{color:#d3d3d3}:host .help-icon:hover{color:#3c8dbc}:host .help-icon.on-dark{color:rgba(0,0,0,.3)}:host .help-icon.on-dark:hover{color:#fff}/deep/ popover-container.popover{border-color:#3c8dbc}/deep/ popover-container.popover.top>div.arrow:before{border-top-color:#3c8dbc}/deep/ popover-container.popover.bottom>div.arrow:before{border-bottom-color:#3c8dbc}/deep/ popover-container.popover.left>div.arrow:before{border-left-color:#3c8dbc}/deep/ popover-container.popover.right>div.arrow:before{border-right-color:#3c8dbc}/deep/ popover-container.popover .popover-title{border-bottom-color:#3c8dbc;font-weight:700}.edc-popover-container{display:flex;flex-direction:column;flex-grow:1;line-height:20px;min-width:150px}.edc-popover-container .popover-article{font-size:14px;padding-bottom:10px}.edc-popover-container .see-also-item{font-size:15px}.edc-popover-container .see-also-item .article-link{color:#0275d8;cursor:pointer;text-decoration:underline}.edc-popover-container ul{list-style-type:disc}"]}]}],l.ctorParameters=function(){return[{type:i},{type:c}]},l.propDecorators={pluginId:[{type:t.Input}],key:[{type:t.Input}],subKey:[{type:t.Input}],placement:[{type:t.Input}],dark:[{type:t.Input}],lang:[{type:t.Input}]};var a=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[i,t.configLoader]}},e}();a.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[l],providers:[i,c],exports:[l],entryComponents:[l]}]}],e.DEFINED_TRANSLATION_CODES=["en","fr","ru","vi","zh"],e.HelpComponent=l,e.HelpModule=a,e.HelpService=i,e.LANGUAGE_CODES=["en","ar","bg","zh","hr","cs","da","nl","et","fi","fr","de","el","he","hu","is","ga","it","ja","ko","lv","lt","lb","mt","no","fa","pl","pt","ro","ru","sk","sl","es","sv","tr","vi"],e.PopoverConfigurationHandler=r,e.SYS_LANG="en",e.Éµa=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=edc-popover-ng.umd.min.js.map